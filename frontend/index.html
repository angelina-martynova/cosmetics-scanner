<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Skipley - –°–∫–∞–Ω–µ—Ä –∫–æ—Å–º–µ—Ç–∏—á–Ω–∏—Ö —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/mobile.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Skipley</h1>
        <div class="auth-buttons" id="authButtons">
          <button id="loginBtn">–£–≤—ñ–π—Ç–∏</button>
          <button id="registerBtn">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
        </div>
        <div class="user-menu hidden" id="userMenu">
          <span style="display: none">–í—ñ—Ç–∞—î–º–æ, </span>
          <span id="userEmail"></span>
          <button id="myScansBtn">–ú–æ—ó —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è</button>
          <button id="logoutBtn">–í–∏–π—Ç–∏</button>
        </div>
      </header>

      <main>
        <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü—ñ—è -->
        <section class="hero-section">
          <h1>–°–∫–∞–Ω—É–π –±–µ–∑–ø–µ–∫—É —Å–≤–æ—î—ó –∫–æ—Å–º–µ—Ç–∏–∫–∏</h1>
          <p class="hero-subtitle">
            –ü—Ä–æ—Å—Ç–æ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–π—Ç–µ –µ—Ç–∏–∫–µ—Ç–∫—É –∞–±–æ –≤–≤–µ–¥—ñ—Ç—å —Å–∫–ª–∞–¥ - –º–∏ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î–º–æ
            –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏
          </p>
        </section>

        <!-- –ú–µ—Ç–æ–¥–∏ –≤–≤–µ–¥–µ–Ω–Ω—è -->
        <div id="inputMethods" class="input-methods">
          <div class="method-card" onclick="openCamera()">
            <div class="icon">üì∑</div>
            <h3>–°–∫–∞–Ω—É–≤–∞—Ç–∏ –∫–∞–º–µ—Ä–æ—é</h3>
            <p>–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–π—Ç–µ –µ—Ç–∏–∫–µ—Ç–∫—É –ø—Ä–æ–¥—É–∫—Ç—É</p>
          </div>
          <div class="method-card" onclick="openTextInput()">
            <div class="icon">üìù</div>
            <h3>–í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç</h3>
            <p>–°–∫–æ–ø—ñ—é–π—Ç–µ —Å–∫–ª–∞–¥ –≤—Ä—É—á–Ω—É</p>
          </div>
        </div>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å –±–∞—Ä -->
        <div class="scan-progress hidden">
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
        </div>

        <!-- –ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ —ñ–Ω–ø—É—Ç–∏ -->
        <input
          type="file"
          id="cameraInput"
          accept="image/*"
          capture="environment"
          style="display: none"
        />
        <input
          type="file"
          id="galleryInput"
          accept="image/*"
          style="display: none"
        />
        <input
          type="file"
          id="fileInput"
          style="display: none"
          accept=".txt,.doc,.docx,.pdf"
        />

        <div class="result" id="result"></div>
      </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è –∫–∞–º–µ—Ä–∏ -->
    <div id="cameraModal" class="modal hidden">
      <div class="modal-content">
        <h3>–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –∫–∞–º–µ—Ä–æ—é</h3>
        <div class="camera-preview">
          <video id="cameraVideo" autoplay playsinline></video>
          <canvas id="cameraCanvas" style="display: none"></canvas>
        </div>
        <div class="camera-controls">
          <button id="captureBtn">–ó—Ä–æ–±–∏—Ç–∏ –∑–Ω—ñ–º–æ–∫</button>
          <button id="retakeBtn" class="hidden">–ü–µ—Ä–µ–∑–Ω—è—Ç–∏</button>
          <button id="usePhotoBtn" class="hidden">–ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏</button>
          <button onclick="openGallery()">–í–∏–±—Ä–∞—Ç–∏ –∑ –≥–∞–ª–µ—Ä–µ—ó</button>
          <button onclick="closeCamera()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É -->
    <div id="textInputModal" class="modal hidden">
      <div class="modal-content">
        <h3>–í–≤–µ–¥—ñ—Ç—å —Å–∫–ª–∞–¥ –∫–æ—Å–º–µ—Ç–∏–∫–∏</h3>
        <textarea
          id="manualTextInput"
          placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: Aqua, Glycerin, Sodium Laureth Sulfate..."
          rows="8"
        ></textarea>
        <div class="modal-actions">
          <button onclick="triggerFileInput()">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª</button>
          <button onclick="processManualText()">–ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏</button>
          <button onclick="closeTextInput()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
      </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/image.js') }}"></script>
    <script src="{{ url_for('static', filename='js/text.js') }}"></script>
  </body>
</html>
